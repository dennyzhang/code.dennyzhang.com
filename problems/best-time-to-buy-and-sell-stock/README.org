* Leetcode: Best Time to Buy and Sell Stock                     :BLOG:Amusing:
#+STARTUP: showeverything
#+OPTIONS: toc:nil \n:t ^:nil creator:nil d:nil
:PROPERTIES:
:type:     greedy, buystock, array
:END:
---------------------------------------------------------------------
Best Time to Buy and Sell Stock
---------------------------------------------------------------------
#+BEGIN_HTML
<a href="https://github.com/dennyzhang/code.dennyzhang.com/tree/master/problems/best-time-to-buy-and-sell-stock"><img align="right" width="200" height="183" src="https://www.dennyzhang.com/wp-content/uploads/denny/watermark/github.png" /></a>
#+END_HTML
Similar Problems:
- [[https://code.dennyzhang.com/stock-decision][Leetcode: Best Time to Buy and Sell Stock]]
- [[https://code.dennyzhang.com/stock-decision-ii][Leetcode: Best Time to Buy and Sell Stock II]]
- Tag: [[https://code.dennyzhang.com/review-greedy][#greedy]], [[https://code.dennyzhang.com/tag/buystock][#buystock]], [[https://code.dennyzhang.com/tag/array][#array]]
---------------------------------------------------------------------
Say you have an array for which the ith element is the price of a given stock on day i.

If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.

Example 1:
#+BEGIN_EXAMPLE
Input: [7, 1, 5, 3, 6, 4]
Output: 5

max. difference = 6-1 = 5 (not 7-1 = 6, as selling price needs to be larger than buying price)
#+END_EXAMPLE

Example 2:
#+BEGIN_EXAMPLE
Input: [7, 6, 4, 3, 1]
Output: 0

In this case, no transaction is done, i.e. max profit = 0.
#+END_EXAMPLE

Github: [[https://github.com/dennyzhang/code.dennyzhang.com/tree/master/problems/best-time-to-buy-and-sell-stock][code.dennyzhang.com]]

Credits To: [[https://leetcode.com/problems/best-time-to-buy-and-sell-stock/description/][leetcode.com]]

- Solution

#+BEGIN_SRC go
// Blog link: https://code.dennyzhang.com/best-time-to-buy-and-sell-stock
// Basic Ideas: greedy
//
// Complexity: Time O(n), Space O(1)
func maxProfit(prices []int) int {
    min := 1<<31-1
    res := 0
    for _, val := range prices {
        // min cost so far
        if val-min > res {
            res = val-min
        }
        if val < min {
            min = val
        }
    }
    return res
}
#+END_SRC

#+BEGIN_SRC python
## Blog link: https://code.dennyzhang.com/best-time-to-buy-and-sell-stock
class Solution(object):
    def maxProfit(self, prices):
        """
        :type prices: List[int]
        :rtype: int
        """
        ## Idea: Suppose L is separated by L1 and L2.
        ##       If the max_profit happens in between L1 and L2,
        ##       it means we buy with some price in L1, then seel with some price in L2.
        ##       The buy price will be the mininum value within L1
        ##        
        ##
        ##       Here we suppose to scan the list only once
        ##
        ##       max_profit: best deal within L1
        ##       min_value: the mininum price within L1
        ##           
        ##       
        ## Complexity: Time O(n), Space O(1)
        ## Sample Data:
        ##     7, 1, 5, 3, 6, 4
        ##
        length = len(prices)
        if length < 2:
            return 0
        min_value = prices[0]
        max_profit = -1
        for i in range(1, length):
            if prices[i] < min_value:
                min_value = prices[i]
            elif prices[i] > min_value and prices[i] - min_value > max_profit:
                max_profit = prices[i] - min_value
        return max_profit if max_profit > 0 else 0            
#+END_SRC

Leave me comments, if you have better ways to solve.
---------------------------------------------------------------------

#+BEGIN_HTML
<div style="overflow: hidden;">
<div style="float: left; padding: 5px"> <a href="https://www.linkedin.com/in/dennyzhang001"><img src="https://www.dennyzhang.com/wp-content/uploads/sns/linkedin.png" alt="linkedin" /></a></div>
<div style="float: left; padding: 5px"><a href="https://github.com/dennyzhang"><img src="https://www.dennyzhang.com/wp-content/uploads/sns/github.png" alt="github" /></a></div>
<div style="float: left; padding: 5px"><a href="https://www.dennyzhang.com/slack" target="_blank" rel="nofollow"><img src="https://www.dennyzhang.com/wp-content/uploads/sns/slack.png" alt="slack"/></a></div>
</div>
#+END_HTML
